(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{110:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return b})),n.d(t,"toc",(function(){return u})),n.d(t,"default",(function(){return p}));var r=n(3),a=n(7),l=(n(0),n(198)),c={id:"4-problem",title:"4. \ubb38\uc81c\ub97c \ud1b5\ud574 \ubc30\uc6b0\ub294 \ucfe0\ubc84\ub124\ud2f0\uc2a4"},b={unversionedId:"kubernetes/easy-kubernetes/4-problem",id:"kubernetes/easy-kubernetes/4-problem",isDocsHomePage:!1,title:"4. \ubb38\uc81c\ub97c \ud1b5\ud574 \ubc30\uc6b0\ub294 \ucfe0\ubc84\ub124\ud2f0\uc2a4",description:"\ub178\uc158 \ub178\ud2b8",source:"@site/docs/kubernetes/easy-kubernetes/4-problem.md",slug:"/kubernetes/easy-kubernetes/4-problem",permalink:"/til/docs/kubernetes/easy-kubernetes/4-problem",editUrl:"https://github.com/daehungwak/til/edit/main/docs/kubernetes/easy-kubernetes/4-problem.md",version:"current",lastUpdatedAt:1641135239,sidebar:"docs",previous:{title:"3. \ucfe0\ubc84\ub124\ud2f0\uc2a4 \uc778\uc0ac\uc774\ub4dc",permalink:"/til/docs/kubernetes/easy-kubernetes/3-inside"},next:{title:"5. \ucfe0\ubc84\ub124\ud2f0\uc2a4 \uc624\ube0c\uc81d\ud2b8",permalink:"/til/docs/kubernetes/easy-kubernetes/5-object"}},u=[{value:"4.1 \ud30c\ub4dc\uc5d0 \ubb38\uc81c\uac00 \uc0dd\uacbc\ub2e4\uba74",id:"41-\ud30c\ub4dc\uc5d0-\ubb38\uc81c\uac00-\uc0dd\uacbc\ub2e4\uba74",children:[]},{value:"4.2 \uc6cc\ucee4 \ub178\ub4dc\uc758 \uad6c\uc131 \uc694\uc18c\uc5d0 \ubb38\uc81c\uac00 \uc0dd\uacbc\ub2e4\uba74",id:"42-\uc6cc\ucee4-\ub178\ub4dc\uc758-\uad6c\uc131-\uc694\uc18c\uc5d0-\ubb38\uc81c\uac00-\uc0dd\uacbc\ub2e4\uba74",children:[]},{value:"4.3 \ub9c8\uc2a4\ud130 \ub178\ub4dc\uc758 \uad6c\uc131\uc694\uc18c\uc5d0 \ubb38\uc81c\uac00 \uc0dd\uacbc\ub2e4\uba74",id:"43-\ub9c8\uc2a4\ud130-\ub178\ub4dc\uc758-\uad6c\uc131\uc694\uc18c\uc5d0-\ubb38\uc81c\uac00-\uc0dd\uacbc\ub2e4\uba74",children:[]}],o={toc:u};function p(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(l.b)("wrapper",Object(r.a)({},o,n,{components:t,mdxType:"MDXLayout"}),Object(l.b)("p",null,Object(l.b)("a",Object(r.a)({parentName:"p"},{href:"https://first-diadem-378.notion.site/4-2faa51baf64447ccaacc23f8b9e23cdb"}),"\ub178\uc158 \ub178\ud2b8")),Object(l.b)("h2",{id:"41-\ud30c\ub4dc\uc5d0-\ubb38\uc81c\uac00-\uc0dd\uacbc\ub2e4\uba74"},"4.1 \ud30c\ub4dc\uc5d0 \ubb38\uc81c\uac00 \uc0dd\uacbc\ub2e4\uba74"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"\ud30c\ub4dc\ub97c \uc2e4\uc218\ub85c \uc9c0\uc6e0\ub2e4\uba74?",Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},"\ud30c\ub4dc\ub9cc \ubc30\ud3ec\ub41c \uacbd\uc6b0 \u2192 \ub09c\uac10"),Object(l.b)("li",{parentName:"ul"},"\ub514\ud50c\ub85c\uc774\uba3c\ud2b8 \ud615\ud0dc\ub85c \ubc30\ud3ec\ub41c \ud30c\ub4dc \u2192 \ub2e4\uc2dc \uc0b4\ub824\ub0c4"))),Object(l.b)("li",{parentName:"ul"},"\ucfe0\ubc84\ub124\ud2f0\uc2a4\uac00 \ud30c\ub4dc\ub97c \ub300\ud558\ub294 \uc790\uc138",Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},"\uc8fd\uc744\uc218\ub3c4 \uc788\uc9c0"))),Object(l.b)("li",{parentName:"ul"},"\uc0ad\uc81c \uc2e4\uc2b5")),Object(l.b)("pre",null,Object(l.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"# \ub9c8\uc2a4\ud130 \ub178\ub4dc\nkubectl apply -f ~/_Lecture_k8s_starter.kit/ch4/4.1 # \uc544\ub798\uc758 \ud30c\uc77c \ub450\uac1c \uc77d\uc5b4 \uc0dd\uc131\nkubectl delete pod del-pod # \ubcf5\uad6c \uc548\ub428\nkubectl delete pod del-deploy-57f68b56f7-54djs # \ud574\ub2f9 \ud30c\ub4dc\ub294 \uc9c0\uc6cc\uc9c0\uace0 \uc0c8\ub85c\uc6b4\uac8c \uc0dd\uc131\ub428\n# deployment \uac00 \ud30c\ub4dc 3\uac1c\ub97c \uc720\uc9c0\ud558\ub77c\ub294 \uc124\uc815\uc73c\ub85c \uc9c0\uc815\ub418\uc5b4 \uc788\uc74c\nkubectl delete deployment del-deploy # deployment \ub2e8\uc704 \uc0ad\uc81c\n")),Object(l.b)("h2",{id:"42-\uc6cc\ucee4-\ub178\ub4dc\uc758-\uad6c\uc131-\uc694\uc18c\uc5d0-\ubb38\uc81c\uac00-\uc0dd\uacbc\ub2e4\uba74"},"4.2 \uc6cc\ucee4 \ub178\ub4dc\uc758 \uad6c\uc131 \uc694\uc18c\uc5d0 \ubb38\uc81c\uac00 \uc0dd\uacbc\ub2e4\uba74"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"Kubelet \uc740 \uc120\uc5b8\uc801\uc774 \uc544\ub2c8\ub77c \ubb38\uc81c\uac00 \uc0dd\uae30\ub294 \uacbd\uc6b0 \ubc14\ub85c \ubcf5\uad6c\ub418\uc9c0 \uc54a\uc74c")),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"kubelet \uc911\ub2e8 \uc2e4\uc2b5")),Object(l.b)("pre",null,Object(l.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"# \uc6cc\ucee4\ub178\ub4dc #1\nsystemctl stop kubelet \nsystemctl status kubelet\n\n# \ub9c8\uc2a4\ud130\ub178\ub4dc\nkubectl apply -f ~/_Lecture_k8s_starter.kit/ch4/4.1/del-deploy.yaml\nkubectl get pod -o wide\n\n# \uc6cc\ucee4\ub178\ub4dc #1\nsystemctl start kubelet\n\n# \ub9c8\uc2a4\ud130\ub178\ub4dc\nkubectl get pod -o wide\n")),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"container runtime (docker) \uc911\ub2e8 \uc2e4\uc2b5")),Object(l.b)("pre",null,Object(l.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"# \uc6cc\ucee4\ub178\ub4dc #1\nsystemctl stop docker\nsystemctl status docker\n\n# \ub9c8\uc2a4\ud130\ub178\ub4dc\nkubectl scale deployment del-deploy --replicas=6\nkubectl get pod -o wide\n# \ub3c4\ucee4 \ub7f0\ud0c0\uc784\uc774 \uc885\ub8cc\ub41c \uc6cc\ucee4\ub178\ub4dc\uc740 \uc544\uc608 \ud30c\ub4dc\uac00 \ubc30\ud3ec\ub418\uc9c0 \uc54a\uc74c\n")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"container runtime \ubb38\uc81c\ub294 kubelet\uc774 \uc778\uc2dd\ud574\uc11c api \uc11c\ubc84\uc5d0 \uc804\ub2ec",Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},"\uc774\ud6c4 \uc2a4\ucf00\uc904\ub7ec\uac00 \ubb38\uc81c\ub418\ub294 container runtime\uc744 \uac00\uc9c0\ub294 \uc6cc\ucee4\ub178\ub4dc\ub97c \uc778\uc2dd\ud574\uc11c \ud574\ub2f9 \ub178\ub4dc\ub85c \uc2a4\ucf00\uc904\ub9c1\ud558\uc9c0 \uc54a\uc74c")))),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"\ucd94\uac00 \ubc30\ud3ec\ub97c \ud1b5\ud574 \uc2a4\ucf00\uc904\ub7ec \uc5ed\ud560 \ud655\uc778")),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"conatiner runtime \uc744 \uc0b4\ub9b0 \ub2e4\uc74c scale-out \ud558\uba74?",Object(l.b)("ul",{parentName:"li"},Object(l.b)("li",{parentName:"ul"},"\uade0\ud615\uc788\uac8c \ubc30\ud3ec\ud574\uc904\uae4c?")))),Object(l.b)("pre",null,Object(l.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"# \uc6cc\ucee4\ub178\ub4dc #1\nsystemctl start docker\nsystemctl status docker\n\n# \ub9c8\uc2a4\ud130\ub178\ub4dc\nkubectl scale deployment del-deploy --replicas=9\nkubectl get pod -o wide\n# \ub3c4\ucee4 \ub7f0\ud0c0\uc784\uc774 \uc885\ub8cc\ub41c \uc6cc\ucee4\ub178\ub4dc\uc740 \uc544\uc608 \ud30c\ub4dc\uac00 \ubc30\ud3ec\ub418\uc9c0 \uc54a\uc74c\n")),Object(l.b)("h2",{id:"43-\ub9c8\uc2a4\ud130-\ub178\ub4dc\uc758-\uad6c\uc131\uc694\uc18c\uc5d0-\ubb38\uc81c\uac00-\uc0dd\uacbc\ub2e4\uba74"},"4.3 \ub9c8\uc2a4\ud130 \ub178\ub4dc\uc758 \uad6c\uc131\uc694\uc18c\uc5d0 \ubb38\uc81c\uac00 \uc0dd\uacbc\ub2e4\uba74"),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"\uc2a4\ucf00\uc904\ub7ec\ub294 \ud55c\ubc88 \uc0ad\uc81c\ud574\ubcf8\ub2e4\uba74?")),Object(l.b)("pre",null,Object(l.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"# \ub9c8\uc2a4\ud130\ub178\ub4dc\nkubectl get pods -n kube-system -o wide # `kube-scheduler-m-k8s` \uc788\ub294\uc9c0 \ud655\uc778\nkubectl delete pod kube-scheduler-m-k8s -n kube-system # \uc0ad\uc81c\n# \ubb38\uc81c\uac00 \uc0dd\uaca8\ub3c4 \ub2e4\uc2dc \uc0dd\uc131\ub428\uc744 \ud655\uc778\n")),Object(l.b)("p",null,"\ub9c8\uc2a4\ud130\ub178\ub4dc\uc758 kubelet\uc774 \uc885\ub8cc\ub41c\ub2e4\uba74?"),Object(l.b)("pre",null,Object(l.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"### \ub9c8\uc2a4\ud130\ub178\ub4dc\nsystemctl stop kubelet\nkubectl delete pod kube-scheduler-m-k8s -n kube-system # \uc0ad\uc81c\n# Terminating \uc0c1\ud0dc, \uc2e4\uc81c\ub85c \uc0ad\uc81c\ub418\uc9c0\ub294 \uc548\ub428\n# \uc2e4\uc81c \ud30c\ub4dc \uc0dd\uc131 \uc0ad\uc81c\uc5d0 \uc774\uc0c1\uc774 \uc5c6\uc74c\n# \uc751? \uc2dc\uc2a4\ud15c\uc774 \uc548\uc815\uc801\uc73c\ub85c \ub3cc\uc544\uac00\uae34 \ud568\n")),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"container runtime \uc744 \uc0ad\uc81c\ud55c\ub2e4\uba74?")),Object(l.b)("pre",null,Object(l.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"### \ub9c8\uc2a4\ud130\ub178\ub4dc\nsystemctl stop docker\nkubectl get pod # \uc548\ub428\ncurl <\uc11c\ube44\uc2a4 \ub418\uace0 \uc788\ub358 ip> # \uc548\ub428\n# \ub9c8\uc2a4\ud130\ub178\ub4dc\uc758 container runtime\uc774 \uc5c4\uccad \uc911\uc694\ud55c \uc0ac\uc2e4\uc744 \uc54c \uc218 \uc788\uc74c\n# \uadf8\ub798\uc11c \ub9c8\uc2a4\ud130\ub178\ub4dc\ub3c4 \ud558\ub098\uac00 \uc544\ub2c8\ub77c \uc5ec\ub7ec\uac1c\ub85c \uc2a4\ucf00\uc77c \uc544\uc6c3\ub418\uc5b4 \uc2e4\uc81c\ub85c \uc6b4\uc601\ub428\n")))}p.isMDXComponent=!0},198:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return m}));var r=n(0),a=n.n(r);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var o=a.a.createContext({}),p=function(e){var t=a.a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):b(b({},t),e)),n},s=function(e){var t=p(e.components);return a.a.createElement(o.Provider,{value:t},e.children)},i={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},d=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,c=e.parentName,o=u(e,["components","mdxType","originalType","parentName"]),s=p(n),d=r,m=s["".concat(c,".").concat(d)]||s[d]||i[d]||l;return n?a.a.createElement(m,b(b({ref:t},o),{},{components:n})):a.a.createElement(m,b({ref:t},o))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,c=new Array(l);c[0]=d;var b={};for(var u in t)hasOwnProperty.call(t,u)&&(b[u]=t[u]);b.originalType=e,b.mdxType="string"==typeof e?e:r,c[1]=b;for(var o=2;o<l;o++)c[o]=n[o];return a.a.createElement.apply(null,c)}return a.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);
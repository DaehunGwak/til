<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/til/blog/rss.xml" title="Ordi's Today I Learned Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/til/blog/atom.xml" title="Ordi's Today I Learned Blog Atom Feed"><title data-react-helmet="true">09. 값 타입 | Ordi&#x27;s Today I Learned</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="09. 값 타입 | Ordi&#x27;s Today I Learned"><meta data-react-helmet="true" name="description" content="값 타입"><meta data-react-helmet="true" property="og:description" content="값 타입"><meta data-react-helmet="true" property="og:url" content="https://daehungwak.github.io/til/docs/spring/jpa/09"><link data-react-helmet="true" rel="shortcut icon" href="/til/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://daehungwak.github.io/til/docs/spring/jpa/09"><link rel="stylesheet" href="/til/styles.da54caf6.css">
<link rel="preload" href="/til/styles.b353f6e4.js" as="script">
<link rel="preload" href="/til/runtime~main.fe403c05.js" as="script">
<link rel="preload" href="/til/main.a86fe2a5.js" as="script">
<link rel="preload" href="/til/1.fec7af1d.js" as="script">
<link rel="preload" href="/til/83.6b2d1556.js" as="script">
<link rel="preload" href="/til/84.daed0ce2.js" as="script">
<link rel="preload" href="/til/935f2afb.e474c632.js" as="script">
<link rel="preload" href="/til/82.56fc7eee.js" as="script">
<link rel="preload" href="/til/f33b0bb3.a322dad6.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?e("light"):e("dark")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/til/"><strong class="navbar__title">Ordi TIL 📚</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/til/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://daehungwak.github.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a><a href="https://github.com/DaehunGwak/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/til/"><strong class="navbar__title">Ordi TIL 📚</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/til/docs/">Docs</a></li><li class="menu__list-item"><a href="https://daehungwak.github.io/" target="_blank" rel="noopener noreferrer" class="menu__link">Blog</a></li><li class="menu__list-item"><a href="https://github.com/DaehunGwak/" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/til/docs/">메인</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Web</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">html</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/web/html/intro">HTML 살펴보기</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/web/html/elements">HTML 요소 - 들어가기</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/web/html/document-metadata">HTML 요소 - Document metadata</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/web/html/sections">HTML 요소 - Sections</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/web/html/grouping">HTML 요소 - Grouping content</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">javascript</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/web/javascript/events">이벤트 버블링, 캡처링, 위임</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/web/javascript/debounce-throttle">Debounce와 Throttle</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">htmlcss-bugless-101</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/web/htmlcss/01-intro">시작하기에 앞서</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/web/htmlcss/02-tags-basic">HTML 기초 - tags</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">dom</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/web/dom/document-fragment">DocumentFragment 노드</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">concept</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/web/concept/ssr">SSR, CSR, SSG</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Spring</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">자바 ORM 표준 JPA 프로그래밍</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/til/docs/spring/jpa/00">00. 소개</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/til/docs/spring/jpa/01">01. JPA 소개</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/til/docs/spring/jpa/02">02. JPA 시작하기</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/til/docs/spring/jpa/03">03. 영속성 관리</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/til/docs/spring/jpa/04">04. 엔티티 매핑</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/til/docs/spring/jpa/05">05. 연관관계 매핑 기초</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/til/docs/spring/jpa/06">06. 다양한 연관관계 매핑</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/til/docs/spring/jpa/09">09. 값 타입</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/til/docs/spring/jpa/10">10. 객체 지향 쿼리 언어1 - 기본</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">실전! 스프링 부트 JPA 활용 1</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/spring/practical-boot-jpa-1/00-intro">00. 소개</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/spring/practical-boot-jpa-1/01-setting">01. 프로젝트 세팅</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">김영한님의 스프링 입문 - 노트</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/spring/beginner/0-intro">0. 강의 소개</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/spring/beginner/1-project-settings">1. 프로젝트 환경설정</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/spring/beginner/2-web-dev-basic">2. 스프링 웹 개발 기초</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/spring/beginner/3-dev-backend">3. 회원 관리예제 - 백엔드 개발</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/spring/beginner/4-bean-dependency">4. 스프링 빈과 의존관계</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/spring/beginner/5-web-mvc">5. 회원 관리 예제 - 웹 MVC 개발</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/spring/beginner/6-spring-db">6. 스프링 DB 접근 기술</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/spring/beginner/7-aop">7. AOP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/spring/beginner/8-wrap-up">8. 정리 및 다음 순서</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/spring/beginner/9-review">9. 리뷰</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/spring/beginner/999-intellij-shortcut">999. intelliJ Short Cut</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Java</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">모던 자바 인 액션</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/modern-java-in-action/04">04. 스트림 소개</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/modern-java-in-action/05">05. 스트림 활용</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">이펙티브 자바</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/effective-java/01-intro">01. 들어가기</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/effective-java/02-destroy-create-object">02. 객체 생성과 파괴</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/effective-java/03-common-method">03. 모든 객체의 공통 메서드</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/effective-java/04-class-interface">04. 클래스와 인터페이스</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/effective-java/05-generic">05. 제네릭</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/effective-java/06-enum-annotation">06. 열거 타입과 애너테이션</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/effective-java/07-lambda-stream">07. 람다와 스트림</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">클린코드</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/cleancode/01">01. 깨끗한 코드</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/cleancode/02">02. 의미있는 이름</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/cleancode/03">03. 함수</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/cleancode/04">04. 주석</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/cleancode/07">07. 에러 처리</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/cleancode/08">08. 경계</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/cleancode/09">09. 단위 테스트</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/cleancode/10">10. 클래스</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/cleancode/12">12. 창발성</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/cleancode/16">16. SerialDate 리팩터링</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/cleancode/17">17. 냄새와 휴리스틱</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">자바의 정석</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/essence-of-java/01-05">ch01 ~ 05 빠르게 훑기</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">백기선님의 기본 live-study</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/live-study/01-jvm">mac에 jenv으로 여러 jdk 설치</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">유틸 정리</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/util/weak-hash-map">WeakHashMap 알아보기</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/mac-jenv">mac에 jenv으로 여러 jdk 설치</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/java/mac-tomcat">mac에 tomcat 설치</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">OOP</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/oop/solid">객체지향 SOLID 원칙</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">책</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">리팩터링 2판</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/books/refactoring/02">02. 리팩터링 원칙</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/books/clean-coder">클린코더</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/books/python-algo-interview">파이썬 알고리즘 인터뷰</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/books/practices-of-the-python-pro">프로그래머를 위한 파이썬</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">MySQL</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/mysql/docker-mysql">docker로 mysql local 세팅</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">MongoDB</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/mongodb/docker-mongodb">docker로 MongoDB 로컬환경 세팅</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Vue</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Vue Mastery</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/vue/vue-mastery/vue3-ts">Vue 3 + Typescript</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Webpack</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/webpack/webpack-beginner">npm + webpack 빠르게 시작</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">git</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/git/config-account">git 해당 프로젝트에만 계정 설정</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Docusaurus</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/til/docs/docusaurus/til">docusaurus를 til로 쓰기</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">09. 값 타입</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="값-타입"></a>값 타입<a class="hash-link" href="#값-타입" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="jpa의-데이터-타입-두가지-분류"></a>JPA의 데이터 타입 두가지 분류<a class="hash-link" href="#jpa의-데이터-타입-두가지-분류" title="Direct link to heading">#</a></h3><ul><li>엔티티 타입<ul><li><code>@Entity</code>로 정의하는 객체</li><li>데이터가 변해도 식별자로 지속해서 <strong>추적 가능</strong></li></ul></li><li>값 타입<ul><li>int, Integer, String 처럼 단순히 값으로 사용하는 자바 기본 타입이나 객체</li><li>식별자가 없고 값만 있으므로 변경시 추적 불가</li></ul></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="값-타입-분류"></a>값 타입 분류<a class="hash-link" href="#값-타입-분류" title="Direct link to heading">#</a></h3><ul><li>기본 값 타입<ul><li>자바 기본 타입 (int, double)</li><li>래퍼 클래스 (Integer, Long)</li><li>String</li></ul></li><li>임베디드 타입 (복합 값 타입)<ul><li>좌표 x, y 를 묶어서 사용하고 싶을 때 Position이라는 클래스를 만들어 값처럼 쓰는 것</li></ul></li><li>컬렉션 값 타입<ul><li>List 같은 컬렉션</li></ul></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="기본-값-타입"></a>기본 값 타입<a class="hash-link" href="#기본-값-타입" title="Direct link to heading">#</a></h3><ul><li>String name, int age</li><li>생명주기를 엔티티에 의존</li><li>값 타입은 공유하면 X (side-effect 방지를 위해)<ul><li>자바는 기본 타입은 공유하지 않고 카피하거나, 불변성을 가지기 때문에 괜찮음</li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="임베디드-타입-️"></a>임베디드 타입 ⭐️<a class="hash-link" href="#임베디드-타입-️" title="Direct link to heading">#</a></h2><ul><li>새로운 값 타입을 직접 정의할 수 있음</li><li>JPA는 임베디드 타입이라 함</li><li>주로 기본 값 타입을 모아서 만들어서 복합 값 타입이라고도 함</li><li>임베디드 타입도 int, String과 같은 값 타입</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="임베디드-타입-사용법"></a>임베디드 타입 사용법<a class="hash-link" href="#임베디드-타입-사용법" title="Direct link to heading">#</a></h3><ul><li><code>@Embeddable</code>: 값 타입 정의하는 곳에 표시</li><li><code>@Embedded</code>: 값 타입을 상요하는 곳에 표시</li><li>기본 생성자 필수</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="임베디드-타입-장점"></a>임베디드 타입 장점<a class="hash-link" href="#임베디드-타입-장점" title="Direct link to heading">#</a></h3><ul><li>재사용</li><li>높은 응집도</li><li><code>Period.isWork()</code> 처럼 해당 값 타입만 사용하는 의미 있는 메소드를 만들 수 있음</li><li>임베디드 타입을 포함한 모든 값 타입은, 값 타입을 수요한 엔티티에 생명주기를 의존함</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="임베디드-타입과-테이블-매핑"></a>임베디드 타입과 테이블 매핑<a class="hash-link" href="#임베디드-타입과-테이블-매핑" title="Direct link to heading">#</a></h3><ul><li>객체 테이블을 아주 세밀하게 매핑하는 것이 가능</li><li>잘 설계한 ORM 앱은 매핑한 테이블의 수보다 클래스의 수가 더 많음</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="attributeoverride-속성-재정의"></a><code>@AttributeOverride</code>: 속성 재정의<a class="hash-link" href="#attributeoverride-속성-재정의" title="Direct link to heading">#</a></h3><ul><li>한 엔티티에서 같은 값 타입을 사용한다면? -&gt; 칼럼 명이 중복됨</li><li>@AttributeOverride, @AttributeOverrides 활용하여 속성 값 이름 재정의 가능</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="주의사항"></a>주의사항<a class="hash-link" href="#주의사항" title="Direct link to heading">#</a></h3><ul><li>임베디드 타입 값이 null 면 임베디드 타입 하위의 값들도 다 null 이 됨</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="값-타입과-불변-객체"></a>값 타입과 불변 객체<a class="hash-link" href="#값-타입과-불변-객체" title="Direct link to heading">#</a></h2><ul><li>값 타입은 복잡한 객체 세상을 조금이라도 단순화하려고 만든 개념</li><li>값 타입은 단순하고 안전하게 다룰 수 있어야함</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="값-타입-공유-참조"></a>값 타입 공유 참조<a class="hash-link" href="#값-타입-공유-참조" title="Direct link to heading">#</a></h3><ul><li>무조건 복사해서 사용!!</li><li>임베디드 타입 같은 값 타임을 여러 엔티티에서 공유하면 위험함</li><li>side effect 발생<ul><li>공유한 임베디드 값 객체는 수정 시, 다른 곳에서도 수정 발생</li></ul></li><li>별로 신경 안쓰는 것: 값 복사에 대해 잘 신경을 안씀<ul><li>이걸 되게 신경써야함</li></ul></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="객체-타입의-한계"></a>객체 타입의 한계<a class="hash-link" href="#객체-타입의-한계" title="Direct link to heading">#</a></h3><ul><li>직접 정의한 값 타입은 자바의 기본 타입이 아니라 객체 타입</li><li>객체 타입은 참조 값을 직접 대입하는 것을 막을 방법이 없다</li><li>객체의 공유 참조는 피할 수 없음...</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="불변-객체로-만들기"></a>불변 객체로 만들기<a class="hash-link" href="#불변-객체로-만들기" title="Direct link to heading">#</a></h3><ul><li>값 타입은 불변 객체로 설계해야함</li><li>불변 객체: 생성 시점 이후 절대 값을 변경할 수 없는 객체</li><li>Setter를 만들지 않으면 됨</li><li>불변 객체의 값을 바꾸고 싶다면? 새로 만들기</li><li><code>값 타입은 그냥 다 불변으로 만들어야 함</code><ul><li>사이드 이펙트 때문에 디버깅이 힘들어지므로...</li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="값-타입의-비교"></a>값 타입의 비교<a class="hash-link" href="#값-타입의-비교" title="Direct link to heading">#</a></h2><ul><li>값 타입 객체 두개가 있는데, 내부 값이 같다면 같은 객체로 봐야한다</li><li>동일성(identity) 비교: 인스턴스의 참조 값을 비교, == 사용</li><li>동등성(equivalence) 비교: 인스턴스의 값을 비교, <code>equals()</code></li><li>값 타입 객체 끼리는 <code>equals()</code> 를 사용해서 동등성 비교를 해야함</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="값-타입-컬렉션-️"></a>값 타입 컬렉션 ⭐️<a class="hash-link" href="#값-타입-컬렉션-️" title="Direct link to heading">#</a></h2><ul><li><code>private Set&lt;String&gt; favoriteFoods</code> 와 같이 엔티티 클래스 내부에 collection으로 저장하는 것</li><li>값 타입 컬렉션은 테이블의 보든 값들이 복합키로 엮임</li><li>값 타입을 하나 이상 저장할 때 사용</li><li><code>@ElementCollection</code>, <code>@CollectionTable</code> 사용</li><li>DB 는 컬렉션을 같은 테이블에 저장할 수 없음</li><li>컬렉션을 저장하기위한 별도 테이블이 필요</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="값-타입-컬렉션-사용"></a>값 타입 컬렉션 사용<a class="hash-link" href="#값-타입-컬렉션-사용" title="Direct link to heading">#</a></h3><ul><li>예제에서 member persist 한번에 값 타입 컬렉션들이 같이 insert 됨</li><li>컬렉션 값 타입 생명주기가 포함된 Entity에 의존됨</li><li>따라서 값 타입은 따로 persist 할 필요없음</li><li>값 타입 컬렉션은 영속성 전에(CASCADE) + 고아 객체 제거기능을 필수로 가진다고 볼 수 있다</li><li>값 타입 컬렉션 조회 시 <strong>지연로딩</strong>으로 진행</li><li>값 타입 수정 시, 값 타입은 불변성(immutable)해야 하므로 값을 카피해서 써야함 (사이드 이펙트...)</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="값-타입-컬렉션의-제약사항"></a>값 타입 컬렉션의 제약사항<a class="hash-link" href="#값-타입-컬렉션의-제약사항" title="Direct link to heading">#</a></h3><ul><li>값 타입은 엔티티와 다르게 식별자 개념이 없음</li><li>값은 변경하면 추적이 어려움</li><li>값 타입 컬렉션에 변경사항이 발생하면<ul><li>주인 엔티티와 연관된 컬렉션 테이블의 데이터를 다 지움</li><li>남은 현재 데이터를 다시 한꺼번에 insert 함</li><li><code>그냥 쓰지 말자 ㅎㅎ</code></li></ul></li><li>값 타입 컬렉션을 매핑하는 테이블은 모든 컬럼을 묶어서 기본키를 구성해야함...<ul><li>null 입력 X, 중복저장 X</li></ul></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="값-타입-컬렉션-대안"></a>값 타입 컬렉션 대안<a class="hash-link" href="#값-타입-컬렉션-대안" title="Direct link to heading">#</a></h3><ul><li>실무에서는 상황에 따라 <code>값 타입 컬렉션 대신에 일대다 관계를 고려</code></li><li>일대다 관계를 위한 엔티티를 만들고, 여기에서 값 타입을 래핑해서 사용</li><li>혹시 사용해야 한다면 진짜 단순할때만 사용<ul><li>체크 버튼: 옵션 체크박스로 단순하게 쓸 때</li><li>이력 관리 안해도 될 때</li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="값-타입-정리"></a>값 타입 정리<a class="hash-link" href="#값-타입-정리" title="Direct link to heading">#</a></h2><ul><li>엔티티 타입의 특징<ul><li>식별자 O</li><li>생명주기가 존재</li><li>공유</li></ul></li><li>값 타입 특징<ul><li>식별자 X</li><li>생명주기를 엔티티에 의존</li><li>공유하지 않는 것이 안전 -&gt; 복사해서 사용하도록 불변 객체로 만들기</li></ul></li><li>값 타입은 정말 값 타입이라 판단 될 때만 사용</li><li>식별자가 필요하고, 지속해서 값을 추적/변경 해야한다면 엔티티로 사용</li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/daehungwak/til/edit/main/docs/spring/jpa/09.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2021-06-01T13:29:51.000Z" class="docLastUpdatedAt_1Qna">2021-6-1</time></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/til/docs/spring/jpa/06"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« 06. 다양한 연관관계 매핑</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/til/docs/spring/jpa/10"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">10. 객체 지향 쿼리 언어1 - 기본 »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#값-타입" class="table-of-contents__link">값 타입</a><ul><li><a href="#jpa의-데이터-타입-두가지-분류" class="table-of-contents__link">JPA의 데이터 타입 두가지 분류</a></li><li><a href="#값-타입-분류" class="table-of-contents__link">값 타입 분류</a></li><li><a href="#기본-값-타입" class="table-of-contents__link">기본 값 타입</a></li></ul></li><li><a href="#임베디드-타입-️" class="table-of-contents__link">임베디드 타입 ⭐️</a><ul><li><a href="#임베디드-타입-사용법" class="table-of-contents__link">임베디드 타입 사용법</a></li><li><a href="#임베디드-타입-장점" class="table-of-contents__link">임베디드 타입 장점</a></li><li><a href="#임베디드-타입과-테이블-매핑" class="table-of-contents__link">임베디드 타입과 테이블 매핑</a></li><li><a href="#attributeoverride-속성-재정의" class="table-of-contents__link"><code>@AttributeOverride</code>: 속성 재정의</a></li><li><a href="#주의사항" class="table-of-contents__link">주의사항</a></li></ul></li><li><a href="#값-타입과-불변-객체" class="table-of-contents__link">값 타입과 불변 객체</a><ul><li><a href="#값-타입-공유-참조" class="table-of-contents__link">값 타입 공유 참조</a></li><li><a href="#객체-타입의-한계" class="table-of-contents__link">객체 타입의 한계</a></li><li><a href="#불변-객체로-만들기" class="table-of-contents__link">불변 객체로 만들기</a></li></ul></li><li><a href="#값-타입의-비교" class="table-of-contents__link">값 타입의 비교</a></li><li><a href="#값-타입-컬렉션-️" class="table-of-contents__link">값 타입 컬렉션 ⭐️</a><ul><li><a href="#값-타입-컬렉션-사용" class="table-of-contents__link">값 타입 컬렉션 사용</a></li><li><a href="#값-타입-컬렉션의-제약사항" class="table-of-contents__link">값 타입 컬렉션의 제약사항</a></li><li><a href="#값-타입-컬렉션-대안" class="table-of-contents__link">값 타입 컬렉션 대안</a></li></ul></li><li><a href="#값-타입-정리" class="table-of-contents__link">값 타입 정리</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/til/styles.b353f6e4.js"></script>
<script src="/til/runtime~main.fe403c05.js"></script>
<script src="/til/main.a86fe2a5.js"></script>
<script src="/til/1.fec7af1d.js"></script>
<script src="/til/83.6b2d1556.js"></script>
<script src="/til/84.daed0ce2.js"></script>
<script src="/til/935f2afb.e474c632.js"></script>
<script src="/til/82.56fc7eee.js"></script>
<script src="/til/f33b0bb3.a322dad6.js"></script>
</body>
</html>
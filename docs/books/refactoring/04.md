---
id: '04'
title: 04. 테스트 구축하기
---

> 어차피 모든 버그를 잡아낼 수는 없다고 생각하여 테스트를 작성하지 않는다면
> 대다수의 버그를 잡을수 있는 기회를 날리는 셈이다.

## 느낀점

- 코드짜니 동기부여가 됨 ㅎㅎ
- 너무 만은 테스트 코드는 안짜도록 주의 (경계 조건에 집중!)
- `완벽하게 만드느라 테스트를 수행하지 못하느니, 불완전한 테스트라도 작성해 실행하는게 낫다`

## 요약정리

- 리팩터링 제대로 하려면 실수를 잡아줄 테스트 스위트가 있어야 함
- (TDD) 테스트를 가장 작성하기 좋은 시점은 개발 시작 전
- 각 테스트마다는 격리 - 테스트 순서에 영향안가도록 주의
- 위험한 부분, 경계 조건에 집중!
- 버그 리포트를 받으면 가장 먼저 해당 버그를 재현하는 단위 테스트부터 작성하자
- 기능 개발보다 테스트가 더 오래걸린다면, 과하게 작성하는 것 아닌가 의심하자

## 실습코드

- [리팩터링 2판 4장 - 테스트 구축하기 실습 코드 (JAVA)](https://github.com/DaehunGwak/study-java/tree/main/refactoring/ch04)

## 디테일

- 여기서 말하는 `실패해야 할 상황` 이란 테스트가 실패를 유지해야한다는 의미가 아니라,
  - 테스트의 일부 동작이 이상하여 테스트가 실패되는지 올바르게 확인하라는 의미
- beforeEach로 각 테스트 별 `given` 공통화 및 격리
- 컬렉션이 비었을 때와 같은 케이스는 확인해주는게 좋음
